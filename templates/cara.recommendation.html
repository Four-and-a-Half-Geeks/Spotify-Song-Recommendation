<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Preferences</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <form id="music-form" action="/recommendation" method="POST">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" placeholder="Enter your username" required>

        <label for="api-key">API Key:</label>
        <input type="text" id="api-key" name="api-key" placeholder="Enter your API key" required>

        <h2>Select Your Favorite Music Genres</h2>
        <!-- Genre Checkboxes -->
        <label><input type="checkbox" name="genre" value="pop"> Pop</label><br>
        <label><input type="checkbox" name="genre" value="country"> Country</label><br>
        <label><input type="checkbox" name="genre" value="jazz"> Jazz</label><br>
        <label><input type="checkbox" name="genre" value="rock"> Rock</label><br>
        <label><input type="checkbox" name="genre" value="hip hop"> Hip Hop</label><br>
        <label><input type="checkbox" name="genre" value="classical"> Classical</label><br>
        <label><input type="checkbox" name="genre" value="EDM"> EDM</label><br>
        <label><input type="checkbox" name="genre" value="metal"> Metal</label><br>
        <label><input type="checkbox" name="genre" value="alternative"> Alternative</label><br>
        <label><input type="checkbox" name="genre" value="electronic"> Electronic</label><br>
        <label><input type="checkbox" name="genre" value="Rhythm and Blues"> Rhythm and Blues</label><br>
        <label><input type="checkbox" name="genre" value="soul"> Soul</label><br>
        <label><input type="checkbox" name="genre" value="folk"> Folk</label><br>
         
               <!-- New checkbox for "Other" -->
               <label><input type="checkbox" id="otherCheckbox" onclick="toggleTextBox()"> Other</label><br>
        
               <!-- Text box that will appear when "Other" is checked -->
               <input type="text" id="otherTextBox" placeholder="Enter custom genre" style="display:none;">
               
               <script>
               function toggleTextBox() {
                   // Get the checkbox and text box elements
                   var checkBox = document.getElementById("otherCheckbox");
                   var textBox = document.getElementById("otherTextBox");
                   
                   // Toggle the text box display based on whether the checkbox is checked
                   if (checkBox.checked) {
                       textBox.style.display = "block";
                   } else {
                       textBox.style.display = "none";
                   }
               }
               </script>

        <h2>What kind of feeling do you want your music to have?</h2>
        <!-- Feeling Checkboxes -->

        <label><input type="checkbox" name="feeling" value="joy"> Joy</label><br>
        <label><input type="checkbox" name="feeling" value="sadness"> Sadness</label><br>
        <label><input type="checkbox" name="feeling" value="calm"> Calm</label><br>
        <label><input type="checkbox" name="feeling" value="focus"> Focus</label><br>
        <label><input type="checkbox" name="feeling" value="anger"> Anger</label><br>
        <label><input type="checkbox" name="feeling" value="energy"> Energy</label><br>
        
        <!-- New checkbox for "Other" -->
        <label><input type="checkbox" id="otherFeelingCheckbox" onclick="toggleFeelingTextBox()"> Other</label><br>
        
        <!-- Text box that will appear when "Other" is checked -->
        <input type="text" id="otherFeelingTextBox" placeholder="Enter custom feeling" style="display:none;">
        
        <script>
        function toggleFeelingTextBox() {
            // Get the checkbox and text box elements
            var checkBox = document.getElementById("otherFeelingCheckbox");
            var textBox = document.getElementById("otherFeelingTextBox");
            
            // Toggle the text box display based on whether the checkbox is checked
            if (checkBox.checked) {
                textBox.style.display = "block";
            } else {
                textBox.style.display = "none";
            }
        }
        </script>
        <input type="submit" value="Submit">
    </form>

    <!-- Recommendation display -->
    <h3>Recommended Song</h3>
    <div id="recommendation">
        {% if prediction %}
            <p><strong>Recommended Song:</strong> {{ prediction }}</p>
        {% else %}
            <p>Select your preferences and click "Submit" to see a recommendation.</p>
        {% endif %}
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>